<!DOCTYPE html>
<meta charset="utf-8">
<link rel="stylesheet" href="https://unpkg.com/lucide-static@latest/font/lucide.css">
<link rel="stylesheet" href="css.css">
<script type="importmap">
{
	"imports": {
		"underscore": "./dependencies/underscore/underscore-esm.js"
	}
}
</script>

<div style="height: 13rem;"></div>

<title>Zonai Script</title>

<section id="intro">
<h1>Zonai Script<br><small>from Nintendo's Tears of the Kingdom</small></h1>

<p>This website is a collection of samples and notes on the use of the Zonai
writing system in Tears of the Kingdom.

<p>The game has many signs written in fictional alphabets: Gerudo, Hylian, and
	Sheikah. These are all known to be substitutions for the English alphabet,
	and were seen in Breath of the Wild.

<p>Tears of the Kingdom introduces a new script for the Zonai (ゾナウ) people.
</section>

<section id="structure">
<h2>Structure</h2>
Zonai script is written using only 14 symbols:

<p class=zonai style="font-size: 36px; text-align: center;">
	B C D H J L M N R S T U W Y
</p>

<p>The text is usually written in vertical columns, but is sometimes written in
rings. Less commonly, it is written in rows (often in rings wrapping around a
column or ball).

<p>I suspect that circular text is not written in a consistent direction, and I
	have annotated each sample with the direction I think it might be read in.
<details class="section-box" style="padding: 1em">
	<summary>Analysis of Circular Writing Direction</summary>
	For example, consider the circular writing on the back of the Zonai stake:

	<div class="display-zonai" data-display-zonai-title="devices/stake/back"></div>

	<p>If you read it clockwise, you get <span class=zonai>HSLJ</span>.
	<p>If you read it counter-clockwise, you get <span class=zonai>HJLS</span>.

	<p>Now consider some of the other zonai devices:

	<div style="display: flex; flex-direction: row;">
		<div class="display-zonai" data-display-zonai-title="devices/sled"></div>
		<div class="display-zonai" data-display-zonai-title="devices/flame"></div>
		<div class="display-zonai" data-display-zonai-title="devices/hydrant"></div>
		<div class="display-zonai" data-display-zonai-title="devices/tank"></div>
	</div>

	<p>These all have the same string <span class=zonai>HJL(S)</span>, which matches
		the <strong>counter-clockwise</strong> reading.

	<p>However, other circular writing, like that in the portals in front of
		shrines, appears to be the opposite:

	<div class="display-zonai" data-display-zonai-title="shrines/portal"></div>

	<p>Read clockwise, it almost matches the vertical text found in the pillars
		surrounding the inner chamber within a shrine of light
		(<span class=zonai>HNJBSLM...</span> vs <span class=zonai>HNDBSLM</span>):

	<div class="display-zonai" data-display-zonai-title="shrines/inner-chamber-pillar"></div>
</details>

<p>The text has a visual similarity to CJK logographs, especially
<a href="https://en.wikipedia.org/wiki/Oracle_bone_script">
	oracle bone script / small seal script</a>.

<table style="text-align: center">
	<tr><th>Zonai<th>Small Seal Script<th>Modern
	<tr>
		<td class=zonai>W
		<td><img style="height: 1.5em; margin: -0.25em;" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/76/%E7%AC%91-seal.svg/60px-%E7%AC%91-seal.svg.png">
		<td>笑
	<tr>
		<td class=zonai>M
		<td><img style="height: 1.5em; margin: -0.25em;" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/%E4%BA%AC-seal.svg/60px-%E4%BA%AC-seal.svg.png">
		<td>京
</table>

<p>The game uses a handful of other
symbols in the Zonai "language", such as those associated with the summonable
champions, but they don't appear in larger passages. These are explicitly
Japanese kanji. For example, the Fire Sage symbol is a variant of "炎",
meaning "flames".

<p>Previous installments in the Zelda franchise have created Hylian scripts
which were simple ciphers for English or Japanese text. Recent games (including
<i>Breath of the Wild</i>'s Sheikah script) have been English ciphers (although
some text was written in romanized Japanese using the English alphabet), but
several factors point to this script rather being a cipher for Japanese:

<ul>
	<li>The script has a basic resemblance to old Chinese/Japanese writing
	<li>Like classical Japanese, the script is written in columns
	<li>14 symbols is far too few to write intelligible English text
	<li>Japanese is normally written in a syllabary of 45 symbols formed from
		5 vowels and 9 consonants (plus several voicing marks)
		<ul>
			<li>Using voicing marks is a convention in modern Japanese; texts
				older than around 1850 wouldn't have used them regularly, making
				it appropriate that an "ancient" language based on Japanese
				wouldn't use them.
		</ul>
</ul>
</section>

<section id="observations">
	<h2>Observations</h2>
	<p>The text in the game is frequently reused in many different places. More
		interestingly, sometimes text has some slight variations to it.
	<p>For example, the string <span class=zonai>HNDBSLM</span> appears in many
		places, notably on the columns surrounding the door to the inner chamber
		of a Shrine of Line.
	<p>This string also appears written bottom to top in the Water Temple, on
		the main pipes that dump water. However, of note, it is not a
		simple reversal, but a reversal in chunks of one or two letters:

	<table style="--border-color: transparent; text-align: center;">
		<tr>
			<th colspan=2>Shrine of Light
			<th colspan=2>Water Temple
		<tr>
			<td><span class=block><span class="center-label zonai">H</span>
			<td rowspan=2 class="bracket-left">(1)
			<td><span class=block><span class="center-label zonai">L</span>
			<td rowspan=2 class="bracket-left">(4)
		<tr>
			<td><span class=block><span class="center-label zonai">N</span>
			<td><span class=block><span class="center-label zonai">M</span>
		<tr>
			<td><span class=block><span class="center-label zonai">D</span>
			<td rowspawn=1 class="bracket-left">(2)
			<td><span class=block><span class="center-label zonai">B</span>
			<td rowspan=2 class="bracket-left">(3)
		<tr>
			<td><span class=block><span class="center-label zonai">B</span>
			<td rowspan=2 class="bracket-left">(3)
			<td><span class=block><span class="center-label zonai">S</span>
		<tr>
			<td><span class=block><span class="center-label zonai">S</span>
			<td><span class=block><span class="center-label zonai">D</span>
			<td rowspan=1 class="bracket-left">(2)
		<tr>
			<td><span class=block><span class="center-label zonai">L</span>
			<td rowspan=2 class="bracket-left">(4)
			<td><span class=block><span class="center-label zonai">H</span>
			<td rowspan=2 class="bracket-left">(1)
		<tr>
			<td><span class=block><span class="center-label zonai">M</span>
			<td><span class=block><span class="center-label zonai">N</span>
	</table>

	<p>This suggests some kind of grouping of the characters. If they encode
		romaji, possibly at the mora or kana level.
	
	<p>A similar, though quite different, kind of repetition with reversals can
		be found on the door exiting the Temple of Time.
	<p>Here, chunks of 1, 2, or 3 letters are reversed, or occassionally one
		letter is replaced.
	
	<table style="--border-color: transparent; text-align: center;">
		<tr>
			<th colspan=2>Left Door
			<th colspan=2>Right Door
		<tr>
			<td><span class=block><span class="center-label zonai">N</span>
			<td rowspan=1 class="bracket-left">(1)
			<td><span class=block><span class="center-label zonai">N</span>
			<td rowspan=1 class="bracket-left">(1)
		<tr>
			<td><span class=block><span class="center-label zonai">M</span>
			<td rowspan=5 class="bracket-left">(2L)
			<td><span class=block><span class="center-label zonai">S</span>
			<td rowspan=5 class="bracket-left">(2R)
		<tr>
			<td><span class=block><span class="center-label zonai">T</span>
			<td><span class=block><span class="center-label zonai">R</span>
		<tr>
			<td><span class=block><span class="center-label zonai">C</span>
			<td><span class=block><span class="center-label zonai">C</span>
		<tr>
			<td><span class=block><span class="center-label zonai">S</span>
			<td><span class=block><span class="center-label zonai">M</span>
		<tr>
			<td><span class=block><span class="center-label zonai">T</span>
			<td><span class=block><span class="center-label zonai">R</span>
		<tr>
			<td><span class=block><span class="center-label zonai">M</span>
			<td rowspan=2 class="bracket-left">(3)
			<td><span class=block><span class="center-label zonai">S</span>
			<td rowspan=2 class="bracket-left">(3')
		<tr>
			<td><span class=block><span class="center-label zonai">S</span>
			<td><span class=block><span class="center-label zonai">M</span>
		<tr>
			<td><span class=block><span class="center-label zonai">L</span>
			<td rowspan=1 class="bracket-left">(4)
			<td><span class=block><span class="center-label zonai">L</span>
			<td rowspan=1 class="bracket-left">(4)
		<tr>
			<td><span class=block><span class="center-label zonai">W</span>
			<td rowspan=3 class="bracket-left">(5)
			<td><span class=block><span class="center-label zonai">D</span>
			<td rowspan=3 class="bracket-left">(5')
		<tr>
			<td><span class=block><span class="center-label zonai">C</span>
			<td><span class=block><span class="center-label zonai">C</span>
		<tr>
			<td><span class=block><span class="center-label zonai">D</span>
			<td><span class=block><span class="center-label zonai">W</span>
		<tr>
			<td><span class=block><span class="center-label zonai">N</span>
			<td rowspan=1 class="bracket-left">(6)
			<td><span class=block><span class="center-label zonai">N</span>
			<td rowspan=1 class="bracket-left">(6)
		<tr>
			<td><span class=block><span class="center-label zonai">H</span>
			<td rowspan=2 class="bracket-left">(7)
			<td><span class=block><span class="center-label zonai">J</span>
			<td rowspan=2 class="bracket-left">(7')
		<tr>
			<td><span class=block><span class="center-label zonai">J</span>
			<td><span class=block><span class="center-label zonai">H</span>
		<tr>
			<td><span class=block><span class="center-label zonai">S</span>
			<td rowspan=1 class="bracket-left">(8L)
			<td><span class=block><span class="center-label zonai">M</span>
			<td rowspan=1 class="bracket-left">(8R)
		<tr>
			<td><span class=block><span class="center-label zonai">H</span>
			<td rowspan=2 class="bracket-left">(9)
			<td><span class=block><span class="center-label zonai">J</span>
			<td rowspan=2 class="bracket-left">(9')
		<tr>
			<td><span class=block><span class="center-label zonai">J</span>
			<td><span class=block><span class="center-label zonai">H</span>
		<tr>
			<td><span class=block><span class="center-label zonai">T</span>
			<td rowspan=3 class="bracket-left">(10)
			<td><span class=block><span class="center-label zonai">R</span>
			<td rowspan=3 class="bracket-left">(10')
		<tr>
			<td><span class=block><span class="center-label zonai">Y</span>
			<td><span class=block><span class="center-label zonai">Y</span>
		<tr>
			<td><span class=block><span class="center-label zonai">R</span>
			<td><span class=block><span class="center-label zonai">T</span>
		<tr>
			<td><span class=block><span class="center-label zonai">D</span>
			<td rowspan=1 class="bracket-left">(11L)
			<td><span class=block><span class="center-label zonai">W</span>
			<td rowspan=1 class="bracket-left">(11R)
		<tr>
			<td><span class=block><span class="center-label zonai">C</span>
			<td rowspan=1 class="bracket-left">(12)
			<td><span class=block><span class="center-label zonai">C</span>
			<td rowspan=1 class="bracket-left">(12)
	</table>

	<br>
	<h2>Red Herrings</h2>
	<h3>Zonai Pattern</h3>
	<p>There is a pattern which appears in many Zonai ruins throughout the
		world that looks something like this:

	<p style="text-align: center"><img src="motif-horizontal.png">
	<p>Although it often appears near Zonai text and looks like letters, this is
		<em>not</em> text. Every occurrence of it is exactly the same decorative
		sequence.

	<h3>Ring Ruins Tablets</h3>
	<p>The tablets in the Ring Ruins are large corpuses of Zonai text.
		Unfortunately, they appear to be completely random: the distribution of
		letters is as-uniform-as-possible.
	<p>Therefore, it's not really possible that they form a substitution cipher
		for any language. I think it's best to ignore their contents until other
		samples are understood.

	<h3>Shrine of Light Voices</h3>
	<p>When a Shrine of Light "speaks" to Link, words appear on screen, with
		ghostly Zonai letters appearing behind them.
	<p>Those letters are randomly generated. They are not consistent between
		different players visiting the same shrines, and they are not consistent
		between shrines.

	<h3>Alphabet Use</h3>
	<p>Many, many examples of Zonai text use only 7 of the 14 letters.
	<p>For example, the text that appears on the doors and walls of the
		Temple of Time and the Forgotten Temple use only
		<span class="zonai">BDHLMNS</span>
		(they never use <span class="zonai">CJRTUWY</span>).
	<p>This might suggest that these samples do not mean anything.
</section>

<section>
	<details id="letter-frequency" open>
		<summary>
			<h2>Letter Frequency</h2>
		</summary>
		<p>Some of the "letters" appear much more than others:
	</details>
</section>

<section>
	<details id="bigram-frequency" open>
		<summary>
			<h2>Bigram Frequency</h2>
		</summary>
		<p>Some combinations of letters appear much more frequently.
		<p>There is not a clear resemblance to romaji's bigram frequencies, but
			because there is so little sample data, and it likely contains many
			transcription errors or oddities, it is hard to compare.
		<p>A less plausible explanation may be that the text is not an alphabet,
			but an <a href="https://en.wikipedia.org/wiki/Abjad">abjad</a>; there
			are also 14 consonants in Japanese: 
			(K, G; S, Z; T, D; H, B, P; R, M, N, Y, W).<br>
			However, this would be nearly unreadable, so I don't suspect this is
			the case. Many grammatical functions are indicated solely using vowels,
			which makes this a terribly unclear way to write Japanese.<br>
		<p>I <em>do</em> think that some of the text in the game is nonsense; in
			particular, the stone tablets in the Ring Ruins should be a trove of
			Zonai text, since each tablet contains 54 letters.
		<p>However, the letter distribution in them is as-uniform-as-possible, which
			makes me think they are random rather than actual text. It's possible
			that other garbage samples exist in the game, but since many of them
			are so short, it is hard to separate them.
	</details>
</section>

<section id="trigram-frequency" style="display: none">
	<h2>Trigram Frequency</h2>
	<p>Certain "phrases" are repeated between many different texts.
</section>

<section style="display: none">
	<details id="word-starts">
		<summary>
			<h2>Word Starts</h2>
		</summary>
		<p>Due to the relatively rigid structure of Japanese syllables, certain
			letters are much more likely to begin a sentence or phrase.
		<p>This may be a useful starting point for identifying vowels and
			consonants.
	</details>
</section>

<section id="try-a-cipher" style="
position: fixed;
top: 0;
background: rgba(255, 255, 255, 0.5);
backdrop-filter: blur(8px);
padding: 0;
padding-top: 0.125in;
z-index: 100;
text-align: center;
left: 0;
right: 0;
box-shadow: 0 0 15px 5px rgba(0, 0, 0, 0.125);
">
	<h2 style="font-size: 80%; margin: 0;">Try a cipher</h2>
</section>

<section>
	<details id="text-samples" open class="mode-presented">
		<summary>
			<h2>Text Samples</h2>
		</summary>

		<p>You can find the raw source of the text files for this page at
		<a href="samples.txt">samples.txt</a>.

		<p>You can contribute <a href="https://github.com/CurtisFenner/zonai/blob/main/samples.txt">to the GitHub repository here</a>.

		<p style="display: flex; align-items: center;">
			<span style="padding: 0 1em;">Filter: </span>
			<input id="filter-input" class="zonai" style="text-align: left; padding: 0 0.25em; flex-grow: 1;">

		<fieldset>
			<label><input type="radio" name="sample-mode" checked value="presented"> Show samples as they appear in the game</label><br>
			<label><input type="radio" name="sample-mode" value="linear"> Show samples as they should be read (top to bottom, right to left)</label><br>
			<label><input type="radio" name="sample-mode" value="both"> Show both</label>
		</fieldset>
	</details>
</section>

<section id="optimization" style="display: none">
	<h2>Search for a Cipher</h2>

	<div style="display: flex">
		<textarea id="optimization-input" class="zonai" style="flex-grow: 1">
DNS
SBNM
NLS
NMDS
NBNM
DNB

SSLH
</textarea>
	</div>
</section>

<section id="technical">
	<h2>Technical Details</h2>
	I used the free version of
	<a href="https://www.calligraphr.com/en/">Calligraphr</a> to create a custom TTF
	font to encode the 14 symbols.

	You can <a href="Zonai-Regular.ttf" download>download Zonai-Regular.ttf here.</a>

	<table>
		<tr><th>B<td class=zonai>B
		<tr><th>C<td class=zonai>C
		<tr><th>D<td class=zonai>D
		<tr><th>H<td class=zonai>H
		<tr><th>J<td class=zonai>J
		<tr><th>L<td class=zonai>L
		<tr><th>M<td class=zonai>M
		<tr><th>N<td class=zonai>N
		<tr><th>R<td class=zonai>R
		<tr><th>S<td class=zonai>S
		<tr><th>T<td class=zonai>T
		<tr><th>U<td class=zonai>U
		<tr><th>W<td class=zonai>W
		<tr><th>Y<td class=zonai>Y
	</table>
</section>

<section>
	<h2>Japanese sample text</h2>
	<p>Japanese is normally written using two kinds of characters:
	<ul>
		<li>kanji: There are around two thousand regularly used kanji.<br>
			Their pronunciation changes completely depending on context.<br>
			Each one generally has a "meaning" that is used in one or more
			words.<br>
			For example, the kanji 食 means "food" or "eat":
			<ul>
				<li><ruby>食<rt>ta</rt></ruby><ruby>べ<rt>be</rt></ruby><ruby>る<rt>ru</rt></ruby>:
					to eat
				<li><ruby>食<rt>shoku</rt></ruby><ruby>堂<rt>dou</rt></ruby>:
					cafeteria
			</ul>
		<li>kana: There are 50 kana symbols, in two forms (hiragana and
			katakana).<br>
			Individual kana are purely phonetic and do not mean anything; they
			have essentially fixed pronunciations.<br>
			Each kana represents a "syllable" combinining an initial consonant
			followed by a vowel.<br>
			For example, the hiragana ほ represents the sound "ho".
	</ul>

	<p>I see no practical way to encode kanji using only 14 letters, so I
		presume any cipher is purely phonetic.

	<p>Japanese can be "spelled" using these 50 kana. Below is a sample of
		Japanese text taken from the Nintendo website, and its conversion to
		kana.

	<p><a href="https://www.nintendo.co.jp/zelda/totk/character/index.html">https://www.nintendo.co.jp/zelda/totk/character/index.html</a>
	<blockquote>
		<p>城は宙へと浮かび上がり、空から謎の遺跡が降り注ぐ。
		ハイラルは突如として、”天変地異”に見舞われた。
		主人公リンクは、果てなき冒険に再び身を投じる。

		<p>かつてハイラルを救った勇者。
		右手の力を駆使して、ハイラルの異変に立ち向かう。

		<p>聡明で好奇心旺盛なハイラル王国の姫君。
		ハイラルを襲う天変地異に巻き込まれてしまう。

		<p>女性ばかりのゲルド族において、
		百年に一度だけ生まれる男として生を受ける。
		ハイラルを襲った天変地異と何か関係があるようだが・・・
	</blockquote>

	<blockquote id="kana-sample">
		<p>しろはちゅうへとうかびあがり、そらからなぞのいせきがふりそそぐ。
		ハイラルはとつじょとして、”てんぺんちい”にみまわれた。
		しゅじんこうリンクは、はてなきぼうけんにふたたびみをとうじる。

		<p>かつてハイラルをすくったゆうしゃ。
		みぎてのちからをくしして、ハイラルのいへんにたちむかう。

		<p>そうめいでこうきしんおうせいなハイラルおうこくのひめぎみ。
		ハイラルをおそうてんぺんちいにまきこまれてしまう。

		<p>じょせいばかりのゲルドぞくにおいて、
		ひゃくねんにいちどだけうまれるおとことしてせいをうける。
		ハイラルをおそったてんぺんちいとなにかかんけいがあるようだが・・・
	</blockquote>

	<p>Because there are only 14 zonai symbols, they could not possibly encode
		the 50 kana, like what was done in the Ocarina of Time script.

	<p>Instead, I suspect the Zonai script is more likely based on a proper
		alphabet, such as the transliteration of Japanese into the Latin
		alphabet.

	<p>There are several ways to transliterate Japanese text into the Latin
		alphabet (referred to as "romaji", for Roman-characters). Here are the
		choices I made for the below transliteration:

	<ul>
		<li>Grammatical particles are transliterated as they are written, not as
			they are pronounced<br>
			(so を is "wo" not "o" and は is "ha" not "wa")
		<li>Long vowels are transliterated as the two vowels<br>
			(so おう is "ou" not "o" or "oh" or "ō")
		<li>Irregularly pronounced consonants are spelled regularly<br>
			(so ち is "ti" rather than "chi", つ is "tu" rather than "tu",
			しゅ is "syu" rather than "shu", ふ is "hu" rather than "fu")
		<li>Small っ is written with a double consonant
			(so 救った is written "sukutta")
	</ul>

	<blockquote id="romaji-sample">
		<p>siro ha tyuu he to ukabiagari, sora kara nazo no iseki ga hurisosogu.
		hairaru ha totujo tosite, tenpentii ni mimawareta.
		syujinkou rinku ha, hatenaki bouken ni hutatabi mi wo toujiru.

		<p>katute hairaru wo sukutta yuusya.
			migite no tikara wo kusisite, hairaru no ihen ni tatimukau.

		<p>soumei de koukisin ousei na hairaru oukoku no himegimi.
			hairaru wo soutenpentii ni makikomaretesimau.

		<p>josei bakari no gerudozoku nioite,
			hyakunen ni itido dake umareru otokotosite sei wo ukeru.
			hairaru wo osotta tenpentii to nanika kankei ga aru you daga.
	</blockquote>

	<p>However, many of these features do not appear to be used by Zonai text.
	<ul>
		<li>Double letters are extremely rare, so it's unlikely 救った would be
			spelled as "sukutta", because the small っ is very common in
			Japanese.
		<li>Similarly, I removed double vowels like "ii" and "uu", but not
			"ou" or "ei".
		<li>Irregular spellings are not used, because there aren't enough
			letters to include a "c" for "chi" or "f" for "fu"
		<li>Voicing is probably not indicated, because there aren't enough
			letters to distinguish d and t, s and z and j, h and b and p,
			k and g, etc.
			<ul>
				<li>This is the case with the "Old Hylian" script from the
					Ocarina of Time.
			</ul>
		<li>I chose to transliterate "small kana" Y- sounds without the
			preceding "i", and "small tsu" the same as a regular "tu", so a
			string like キャット ("kyatto") would become "kyatuto".
	</ul>


	<p>Below is the result of these operations. This text is what is used to
		generate the unigram and bigram tables for Japanese romaji above.

	<blockquote id="romaji-sample-processed">
	</blockquote>
</section>

<script type="module" src="main.mjs"></script>
